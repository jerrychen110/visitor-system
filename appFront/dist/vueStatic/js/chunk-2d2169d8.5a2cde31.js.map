{"version":3,"sources":["webpack:///./src/views/mgt/system/Edit.vue?2c7c","webpack:///./src/assets/js/WSNRTConnect.js","webpack:///src/views/mgt/system/Edit.vue","webpack:///./src/views/mgt/system/Edit.vue?45c5","webpack:///./src/views/mgt/system/Edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","padding-right","attrs","md","lg","ref","model","form","label-position","staticClass","display","shadow","label","value","callback","$$v","$set","expression","id","slot","_v","gutter","span","margin-top","offset","style","visibleConnect","type","on","click","$event","connect","visibleDisConnect","disconnect","onSubmit","staticRenderFns","WSNRTConnect","myZCloudID","myZCloudKey","thiz","uid","key","saddr","onConnect","onConnectLost","onmessageArrive","setIdKey","initZCloud","setServerAddr","addr","wsc","close","WebSocket","onopen","event","auth","method","dat","stringify_default","send","onmessage","message","msg","JSON","parse","data","onclose","sendMessage","mac","payload","Editvue_type_script_lang_js_","name","labelPosition","zhiyun_id","zhiyun_server","zhiyun_key","sensor_a_mac","sensor_b_mac","sensor_c_mac","sensor_d_mac","sensor_eh_mac","sensor_el_mac","baidu_app_id","baidu_app_key","baidu_secret_key","baidu_service_id","tencent_secret_id","tencent_secret_key","face_api_key","face_api_secret","xfyun_api_key","xfyun_api_secret","user_id","rtc","WSNRTConnect_WSNRTConnect","mac2type","mac2sensor","type2mac","macs","flag_typeArr","ioffset","lost_num","lost_timer","reconnect_timer","isHandLost","created","getData","_connect","methods","_this","userData","sessionStorage","getItem","userId","axios","get","params","then","res","result_data","handleTab","tab","tabIndex","index","jquery_default","show","hide","console","log","$message","num","setInterval","setTimeout","clearInterval","length","substr","its","split","i","it","tag","val","t","formName","$refs","validate","valid","url","headers","Hide-Message","system_Editvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"vueStatic/js/chunk-2d2169d8.5a2cde31.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{staticStyle:{\"padding-right\":\"2.4rem\"},attrs:{\"md\":24,\"lg\":24}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-position\":\"top\"}},[_c('el-card',{staticClass:\"mtl\",staticStyle:{\"display\":\"none\"},attrs:{\"shadow\":\"never\"}},[_c('el-form-item',{attrs:{\"label\":\"记录id：\"}},[_c('el-input',{model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户id：\"}},[_c('el-input',{model:{value:(_vm.form.user_id),callback:function ($$v) {_vm.$set(_vm.form, \"user_id\", $$v)},expression:\"form.user_id\"}})],1)],1),_c('el-card',{staticClass:\"mtl\",staticStyle:{\"display\":\"block\"},attrs:{\"id\":\"baidu\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"百度AI\")])]),_c('el-form-item',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"APP_ID：\"}},[_c('el-input',{model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1),_c('el-form-item',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"APP_ID：\"}},[_c('el-input',{model:{value:(_vm.form.user_id),callback:function ($$v) {_vm.$set(_vm.form, \"user_id\", $$v)},expression:\"form.user_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"App Id：\"}},[_c('el-input',{model:{value:(_vm.form.baidu_app_id),callback:function ($$v) {_vm.$set(_vm.form, \"baidu_app_id\", $$v)},expression:\"form.baidu_app_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Api Key：\"}},[_c('el-input',{model:{value:(_vm.form.baidu_app_key),callback:function ($$v) {_vm.$set(_vm.form, \"baidu_app_key\", $$v)},expression:\"form.baidu_app_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Secret Key：\"}},[_c('el-input',{model:{value:(_vm.form.baidu_secret_key),callback:function ($$v) {_vm.$set(_vm.form, \"baidu_secret_key\", $$v)},expression:\"form.baidu_secret_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Robot Id(百度UNIT机器人ID)：\"}},[_c('el-input',{model:{value:(_vm.form.baidu_service_id),callback:function ($$v) {_vm.$set(_vm.form, \"baidu_service_id\", $$v)},expression:\"form.baidu_service_id\"}})],1)],1),_c('el-card',{staticClass:\"mtl\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"tencent\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"腾讯AI\")])]),_c('el-form-item',{attrs:{\"label\":\"Secret Id：\"}},[_c('el-input',{model:{value:(_vm.form.tencent_secret_id),callback:function ($$v) {_vm.$set(_vm.form, \"tencent_secret_id\", $$v)},expression:\"form.tencent_secret_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Secret Key：\"}},[_c('el-input',{model:{value:(_vm.form.tencent_secret_key),callback:function ($$v) {_vm.$set(_vm.form, \"tencent_secret_key\", $$v)},expression:\"form.tencent_secret_key\"}})],1)],1),_c('el-card',{staticClass:\"mtl\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"face\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"旷视AI\")])]),_c('el-form-item',{attrs:{\"label\":\"Api Key：\"}},[_c('el-input',{model:{value:(_vm.form.face_api_key),callback:function ($$v) {_vm.$set(_vm.form, \"face_api_key\", $$v)},expression:\"form.face_api_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Api Secret：\"}},[_c('el-input',{model:{value:(_vm.form.face_api_secret),callback:function ($$v) {_vm.$set(_vm.form, \"face_api_secret\", $$v)},expression:\"form.face_api_secret\"}})],1)],1),_c('el-card',{staticClass:\"mtl\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"xfyun\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"讯飞AI\")])]),_c('el-form-item',{attrs:{\"label\":\"Api Key：\"}},[_c('el-input',{model:{value:(_vm.form.xfyun_api_key),callback:function ($$v) {_vm.$set(_vm.form, \"xfyun_api_key\", $$v)},expression:\"form.xfyun_api_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Api Secret：\"}},[_c('el-input',{model:{value:(_vm.form.xfyun_api_secret),callback:function ($$v) {_vm.$set(_vm.form, \"xfyun_api_secret\", $$v)},expression:\"form.xfyun_api_secret\"}})],1)],1),_c('el-card',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"zhiyun\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"智云网关\")])]),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"ZHIYUN_ID：\"}},[_c('el-input',{model:{value:(_vm.form.zhiyun_id),callback:function ($$v) {_vm.$set(_vm.form, \"zhiyun_id\", $$v)},expression:\"form.zhiyun_id\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"ZHIYUN_SERVER：\"}},[_c('el-input',{model:{value:(_vm.form.zhiyun_server),callback:function ($$v) {_vm.$set(_vm.form, \"zhiyun_server\", $$v)},expression:\"form.zhiyun_server\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"ZHIYUN_KEY：\"}},[_c('el-input',{model:{value:(_vm.form.zhiyun_key),callback:function ($$v) {_vm.$set(_vm.form, \"zhiyun_key\", $$v)},expression:\"form.zhiyun_key\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}})],1),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-col',{attrs:{\"span\":6,\"offset\":9}},[_c('el-button',{staticClass:\"w-100\",style:({ display: _vm.visibleConnect }),attrs:{\"id\":\"aid_save\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.connect()}}},[_vm._v(\"连接\")]),_c('el-button',{staticClass:\"w-100\",style:({ display: _vm.visibleDisConnect }),attrs:{\"id\":\"aid_disconnect\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.disconnect()}}},[_vm._v(\"断开\")])],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"SENSOR_A_MAC：\"}},[_c('el-input',{model:{value:(_vm.form.sensor_a_mac),callback:function ($$v) {_vm.$set(_vm.form, \"sensor_a_mac\", $$v)},expression:\"form.sensor_a_mac\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"SENSOR_B_MAC：\"}},[_c('el-input',{model:{value:(_vm.form.sensor_b_mac),callback:function ($$v) {_vm.$set(_vm.form, \"sensor_b_mac\", $$v)},expression:\"form.sensor_b_mac\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"SENSOR_C_MAC：\"}},[_c('el-input',{model:{value:(_vm.form.sensor_c_mac),callback:function ($$v) {_vm.$set(_vm.form, \"sensor_c_mac\", $$v)},expression:\"form.sensor_c_mac\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"SENSOR_D_MAC：\"}},[_c('el-input',{model:{value:(_vm.form.sensor_d_mac),callback:function ($$v) {_vm.$set(_vm.form, \"sensor_d_mac\", $$v)},expression:\"form.sensor_d_mac\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"SENSOR_EH_MAC：\"}},[_c('el-input',{model:{value:(_vm.form.sensor_eh_mac),callback:function ($$v) {_vm.$set(_vm.form, \"sensor_eh_mac\", $$v)},expression:\"form.sensor_eh_mac\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"SENSOR_EL_MAC：\"}},[_c('el-input',{model:{value:(_vm.form.sensor_el_mac),callback:function ($$v) {_vm.$set(_vm.form, \"sensor_el_mac\", $$v)},expression:\"form.sensor_el_mac\"}})],1)],1)],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-col',{attrs:{\"span\":6,\"offset\":9}},[_c('el-button',{staticClass:\"w-100\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"保存修改\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport const WSNRTConnect = function(myZCloudID, myZCloudKey) {\n\tvar thiz = this;\n\tthiz.uid = myZCloudID;\n\tthiz.key = myZCloudKey;\n\tthiz.saddr = \"api.zhiyun360.com:28090\";\n\t\n\tthiz.onConnect = null;\n\tthiz.onConnectLost = null;\n\tthiz.onmessageArrive = null;\n\n\tthiz.setIdKey = function(uid, key) {\n\t\tthiz.uid = uid;\n\t\tthiz.key = key;\t\t\n\t};\n\t\n\tthiz.initZCloud = function(uid, key) {\n\t\tthiz.uid = uid;\n\t\tthiz.key = key;\t\t\n\t};\n\t\n\tthiz.setServerAddr = function(addr) {\n\t\tthiz.saddr = addr;\n\t};\n\t\n\tthiz.disconnect = function() {\n\t\tif (thiz.wsc) {\n\t\t\tthiz.wsc.close();\n\t\t}\n\t};\n\tthiz.connect = function() {\n\t\tthiz.wsc = new WebSocket('wss://'+thiz.saddr);\n\t\tthiz.wsc.onopen = function(event) {\n\t\t\tvar auth = {\n\t\t\t\tmethod:\"authenticate\",\n\t\t\t\tuid:thiz.uid,\n\t\t\t\tkey:thiz.key\t\t\n\t\t\t};\n\t\t\tvar dat = JSON.stringify(auth);\n\t\t\tthiz.wsc.send(dat);\t\n\t\t\tif (thiz.onConnect) thiz.onConnect();\n\t\t};\n\t\tthiz.wsc.onmessage = function(message) {\n\t\t\t//try{\n\t\t\t\tvar msg = JSON.parse(message.data);\n\t\t\t\tif (msg.method && msg.addr && msg.data) {\n\t\t\t\t\tif (msg.method == 'message') {\n\t\t\t\t\t\tif (thiz.onmessageArrive) thiz.onmessageArrive(msg.addr, msg.data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t//} catch (err) {\n\t\t\t//\tconsole.log(\"error msg \"+err);\n\t\t\t//}\n\t\t};\n\t\tthiz.wsc.onclose = function() {\n\t\t\tif (thiz.onConnectLost) thiz.onConnectLost();\n\t\t};\n\t};\n\t\n\tthiz.sendMessage = function(mac, payload) {\n\t\tvar msg = {\n\t\t\t\tmethod:\"control\",\n\t\t\t\taddr:mac,\n\t\t\t\tdata:payload\n\t\t};\n\t\tvar dat = JSON.stringify(msg);\n\t\tthiz.wsc.send(dat);\n\t};\n};\n","<template>\n  <el-row>\n    <el-col :md=\"24\" :lg=\"24\" style=\"padding-right: 2.4rem;\">\n      <el-form ref=\"form\" :model=\"form\" label-position=\"top\">\n        <!--<el-tabs type=\"card\" @tab-click=\"handleTab\">\n          <el-tab-pane key=\"1\" label=\"智云服务\"></el-tab-pane>\n          <el-tab-pane key=\"2\" label=\"百度AI\"></el-tab-pane>\n          <el-tab-pane key=\"3\" label=\"腾讯AI\"></el-tab-pane>\n          <el-tab-pane key=\"4\" label=\"旷视AI\"></el-tab-pane>\n          <el-tab-pane key=\"5\" label=\"讯飞AI\"></el-tab-pane>\n        </el-tabs>-->\n\n        <el-card shadow=\"never\" class=\"mtl\" style=\"display:none\">\n          <el-form-item label=\"记录id：\">\n            <el-input v-model=\"form.id\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"用户id：\">\n            <el-input v-model=\"form.user_id\"></el-input>\n          </el-form-item>\n        </el-card>\n\n\n        <el-card id=\"baidu\" shadow=\"never\" class=\"mtl\" style=\"display:block\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>百度AI</span>\n          </div>\n            <el-form-item label=\"APP_ID：\" style=\"display:none\">\n              <el-input v-model=\"form.id\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"APP_ID：\" style=\"display:none\">\n              <el-input v-model=\"form.user_id\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"App Id：\">\n              <el-input v-model=\"form.baidu_app_id\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Api Key：\">\n              <el-input v-model=\"form.baidu_app_key\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Secret Key：\">\n              <el-input v-model=\"form.baidu_secret_key\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Robot Id(百度UNIT机器人ID)：\">\n              <el-input v-model=\"form.baidu_service_id\"></el-input>\n            </el-form-item>\n        </el-card>\n\n        <el-card id=\"tencent\" shadow=\"never\" class=\"mtl\" style=\"display:none\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>腾讯AI</span>\n          </div>\n            <el-form-item label=\"Secret Id：\">\n              <el-input v-model=\"form.tencent_secret_id\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Secret Key：\">\n              <el-input v-model=\"form.tencent_secret_key\"></el-input>\n            </el-form-item>\n        </el-card>\n\n        <el-card id=\"face\" shadow=\"never\" class=\"mtl\" style=\"display:none\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>旷视AI</span>\n          </div>\n            <el-form-item label=\"Api Key：\">\n              <el-input v-model=\"form.face_api_key\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Api Secret：\">\n              <el-input v-model=\"form.face_api_secret\"></el-input>\n            </el-form-item>\n        </el-card>\n\n        <el-card id=\"xfyun\" shadow=\"never\" class=\"mtl\" style=\"display:none\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>讯飞AI</span>\n          </div>\n            <el-form-item label=\"Api Key：\">\n              <el-input v-model=\"form.xfyun_api_key\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Api Secret：\">\n              <el-input v-model=\"form.xfyun_api_secret\"></el-input>\n            </el-form-item>\n        </el-card>\n\n        <el-card id=\"zhiyun\" shadow=\"never\" style=\"display:none\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>智云网关</span>\n          </div>\n            <el-row :gutter=\"20\">\n              <el-col :span=\"12\">\n                <el-form-item label=\"ZHIYUN_ID：\">\n                  <el-input v-model=\"form.zhiyun_id\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"ZHIYUN_SERVER：\">\n                  <el-input v-model=\"form.zhiyun_server\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"ZHIYUN_KEY：\">\n                  <el-input v-model=\"form.zhiyun_key\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                \n              </el-col>\n            </el-row>\n            <el-row style=\"margin-top: 10px\">\n              <el-col :span=\"6\" :offset=\"9\">\n                <el-button id=\"aid_save\" type=\"primary\" class=\"w-100\" @click=\"connect()\" :style=\"{ display: visibleConnect }\">连接</el-button>\n                <el-button id=\"aid_disconnect\" type=\"primary\" class=\"w-100\" @click=\"disconnect()\" :style=\"{ display: visibleDisConnect }\">断开</el-button>\n              </el-col>\n            </el-row>\n            <el-row :gutter=\"20\">\n              <el-col :span=\"12\">\n                <el-form-item label=\"SENSOR_A_MAC：\">\n                  <el-input v-model=\"form.sensor_a_mac\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"SENSOR_B_MAC：\">\n                  <el-input v-model=\"form.sensor_b_mac\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"SENSOR_C_MAC：\">\n                  <el-input v-model=\"form.sensor_c_mac\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"SENSOR_D_MAC：\">\n                  <el-input v-model=\"form.sensor_d_mac\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"SENSOR_EH_MAC：\">\n                  <el-input v-model=\"form.sensor_eh_mac\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"SENSOR_EL_MAC：\">\n                  <el-input v-model=\"form.sensor_el_mac\"></el-input>\n                </el-form-item>\n              </el-col>\n            </el-row>\n        </el-card>\n        <el-row style=\"margin-top: 10px\">\n          <el-col :span=\"6\" :offset=\"9\">\n            <el-button type=\"primary\" class=\"w-100\" @click=\"onSubmit('form')\">保存修改</el-button>\n          </el-col>\n        </el-row>\n      </el-form>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport {WSNRTConnect} from '@/assets/js/WSNRTConnect.js';\nimport $ from 'jquery'\n\nexport default {\n  name: \"Edit\",\n  data() {\n    return {\n      labelPosition: 'top',\n      visibleConnect: '',\n      visibleDisConnect: 'none',\n      form: {\n        id: null,\n        zhiyun_id: '',\n        zhiyun_server: '',\n        zhiyun_key: '',\n        sensor_a_mac: '',\n        sensor_b_mac: '',\n        sensor_c_mac: '',\n        sensor_d_mac: '',\n        sensor_eh_mac: '',\n        sensor_el_mac: '',\n        baidu_app_id: '',\n        baidu_app_key: '',\n        baidu_secret_key: '',\n        baidu_service_id: '',\n        tencent_secret_id: '',\n        tencent_secret_key: '',\n        face_api_key: '',\n        face_api_secret: '',\n        xfyun_api_key: '',\n        xfyun_api_secret: '',\n        user_id: null\n      },\n        rtc: new WSNRTConnect(),\n        mac2type: {},\n        mac2sensor: {},\n        type2mac: {},\n        macs: {},\n        flag_typeArr: [],\n        ioffset: 0,\n        lost_num: 0,\n        lost_timer: null,\n        reconnect_timer: null,\n        isHandLost: false\n    }\n  },\n  created (){\n    this.getData();\n    this.rtc.onConnect = this.onConnect;\n    this.rtc.onConnectLost = this.onConnectLost;\n    this.rtc.onmessageArrive = this.onmessageArrive;\n    this.rtc._connect = false;\n\n  },\n  methods: {\n    //获取数据\n    getData(){\n      let _this = this;\n      const userData = JSON.parse(sessionStorage.getItem('user'));\n      let userId = userData.id;\n      axios.get('/API/sys-parameters-manage/', {params:{'userId': userId}}).then( res => {\n        _this.form = res.data.result_data;\n        _this.form.zhiyun_server = \"api.zhiyun360.com:28090\";\n      })\n    },\n    handleTab(tab) {\n      let _this = this;\n      let tabIndex = tab.index;\n      if(tabIndex==0){\n        $(\"#zhiyun\").show();\n        $(\"#baidu\").hide();\n        $(\"#tencent\").hide();\n        $(\"#face\").hide();\n        $(\"#xfyun\").hide();\n      }else if(tabIndex==1){\n        $(\"#zhiyun\").hide();\n        $(\"#baidu\").show();\n        $(\"#tencent\").hide();\n        $(\"#face\").hide();\n        $(\"#xfyun\").hide();\n      }else if(tabIndex==2){\n        $(\"#zhiyun\").hide();\n        $(\"#baidu\").hide();\n        $(\"#tencent\").show();\n        $(\"#face\").hide();\n        $(\"#xfyun\").hide();\n      }else if(tabIndex==3){\n        $(\"#zhiyun\").hide();\n        $(\"#baidu\").hide();\n        $(\"#tencent\").hide();\n        $(\"#face\").show();\n        $(\"#xfyun\").hide();\n      }else if(tabIndex==4){\n        $(\"#zhiyun\").hide();\n        $(\"#baidu\").hide();\n        $(\"#tencent\").hide();\n        $(\"#face\").hide();\n        $(\"#xfyun\").show();\n      }\n      $(\"#aid_disconnect\").click();\n    },\n    connect() {\n        let _this = this;\n        if(_this.form.zhiyun_id&&_this.form.zhiyun_key&&_this.form.zhiyun_server){\n          _this.rtc.setIdKey(_this.form.zhiyun_id, _this.form.zhiyun_key);\n          _this.rtc.setServerAddr(_this.form.zhiyun_server);\n          _this.rtc.connect();\n          console.log(\"%c 建立连接\", \"color:red\");\n          _this.$message({message: '已成功建立连接！', type: 'success'});\n          _this.onSubmit('form');\n        }else{\n          _this.$message({message: 'ZHIYUN_ID、ZHIYUN_KEY、ZHIYUN_SERVER必须填写', type: 'error'});\n        }\n    },\n    disconnect(){\n        let _this = this;\n        if(_this.rtc._connect){\n            _this.rtc.disconnect();\n            _this.isHandLost = true;\n            _this.$message({message: '已成功断开连接！', type: 'success'});\n        }\n    },\n    onConnect(){\n        let _this = this;\n        console.log('已连接到'+_this.form.zhiyun_id);\n        _this.rtc.sendMessage(\"FF:FF:FF:FF:FF:FF:FF:FF\", \"{TYPE=?,A0=?,A1=?,A2=?,A3=?,A4=?,A5=?,A6=?,D1=?}\");\n        _this.rtc._connect=true;\n        _this.ioffset = 0;\n        _this.flag_typeArr = [];\n        _this.visibleConnect = 'none';\n        _this.visibleDisConnect = '';\n    },\n    onConnectLost(){\n      let _this = this;\n      _this.rtc._connect = false;\n      _this.visibleConnect = '';\n      _this.visibleDisConnect = 'none';\n      if(!_this.isHandLost) {\n          var num = 3;\n          _this.reconnect_timer = setInterval(function () {\n              num--;\n              if (num > 0)\n                  console.log('连接断开，' + num + '秒后重新连接');\n                  _this.$message({message: '连接已断开,' + num + '秒后重新连接', type: 'error'});\n          }, 1000)\n          _this.lost_timer = setTimeout(function () {\n              if (_this.reconnect_timer)\n                  clearInterval(_this.reconnect_timer);\n              $(\"#aid_save\").click();\n              _this.lost_num++;\n          }, 3000);\n      }\n    },\n    onmessageArrive(mac, dat) {\n        let _this = this;\n        if (dat[0]=='{' && dat[dat.length-1]=='}') {\n            dat = dat.substr(1, dat.length-2);\n            var its = dat.split(',');\n            for (var i=0; i<its.length; i++) {\n                var it = its[i].split('=');\n                if (it.length == 2) {\n                    var tag = it[0];\n                    var val = it[1];\n                    if(tag==\"PN\")return;\n                    if(tag == \"TYPE\") {\n                        var t = val.substr(2,3);\n                        console.log(\"type:\"+t+\"||\"+\"mac:\"+mac);\n                        if(t==\"601\"){\n                            _this.form.sensor_a_mac = mac;\n                            if(_this.form.sensor_a_mac==null||_this.form.sensor_a_mac==''){\n                              _this.$message({message: 'A类节点成功上线！', type: 'success'});\n                            }\n                        }else if(t==\"602\"){\n                            _this.form.sensor_b_mac = mac;\n                            if(_this.form.sensor_b_mac==null||_this.form.sensor_b_mac==''){\n                              _this.$message({message: 'B类节点成功上线！', type: 'success'});\n                            }\n                        }else if(t==\"603\"){\n                            _this.form.sensor_c_mac = mac;\n                            if(_this.form.sensor_c_mac==null||_this.form.sensor_c_mac==''){\n                              _this.$message({message: 'C类节点成功上线！', type: 'success'});\n                            }\n                        }else if(t==\"604\"){\n                            _this.form.sensor_d_mac = mac;\n                            if(_this.form.sensor_d_mac==null||_this.form.sensor_d_mac==''){\n                              _this.$message({message: 'D类节点成功上线！', type: 'success'});\n                            }\n                        }else if(t==\"605\"){\n                            _this.form.sensor_eh_mac = mac;\n                            if(_this.form.sensor_eh_mac==null||_this.form.sensor_eh_mac==''){\n                              _this.$message({message: 'EH类节点成功上线！', type: 'success'});\n                            }\n                        }else if(t==\"606\"){\n                            _this.form.sensor_el_mac = mac;\n                            if(_this.form.sensor_el_mac==null||_this.form.sensor_el_mac==''){\n                              _this.$message({message: 'EL类节点成功上线！', type: 'success'});\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    //提交\n    onSubmit(formName) {\n      let _this = this;\n      _this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if(_this.form.user_id==null){\n            const userData = JSON.parse(sessionStorage.getItem('user'));\n            let userId = userData.id;\n            _this.form.user_id=userId;\n          }\n          // 接口\n          axios({\n            url: '/API/sys-parameters-manage/',\n            data: _this.form,\n            method: 'post',\n            headers: {'Hide-Message': true}\n          }).then(()=>{\n            _this.$message({message: '修改成功！', type: 'success'});\n          })\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=793f7026&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}