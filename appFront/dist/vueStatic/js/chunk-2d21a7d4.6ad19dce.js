(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a7d4"],{bc74:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getList()}},slot:"append"})],1)],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("router-link",{attrs:{to:"/mgt/patients/creat",tag:"span"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("录入病人信息")])],1)],1),a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData}},[t._l(t.theader,function(t){return a("el-table-column",{key:t.id,attrs:{prop:t.prop,label:t.label,"min-width":t.width,"show-overflow-tooltip":!0}})}),a("el-table-column",{attrs:{prop:"patient_sex",label:"性别",formatter:t.patientSex,width:"180"}}),a("el-table-column",{attrs:{prop:"created",label:"创建时间",formatter:t.createdFormat,width:"180"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini",type:"primary",disabled:1!=t.userData.is_superuser&&1!=t.userData.is_staff},on:{click:function(a){return t.handleJump("editor/",e.row.id)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",disabled:1!=t.userData.is_superuser&&1!=t.userData.is_staff},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])],1)]}}])})],2)],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":this.pageSize,"current-page":this.currentPage,total:this.count},on:{"current-change":t.currentChange}})],1)],1)],1)},r=[],i=a("c702"),l={name:"List",data:function(){return{userData:JSON.parse(sessionStorage.getItem("user")),query:null,pageSize:8,currentPage:1,count:null,tableData:null,theader:[{prop:"id",label:"ID",width:"5%"},{prop:"patient_name",label:"姓名",width:"15%"},{prop:"patient_age",label:"年龄",width:"5%"},{prop:"patient_address",label:"地址",width:"30%"}]}},created:function(){this.getList()},methods:{createdFormat:i["b"],publicFormat:i["g"],patientSex:i["f"],handleJump:i["d"],handleJump2:i["e"],getList:function(){var t=this;axios({url:"/API/base-api/query-patient/",params:{page:t.currentPage,patient_name:t.query,user_id:t.userData.id}}).then(function(e){t.tableData=e.data.results,t.count=e.data.total})},currentChange:function(t){this.currentPage=t,this.getList()},handleDelete:function(t,e){var a=this;a.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){axios.delete("/API/base-api/patient/"+e.id+"/").then(function(t){a.getList()})}).catch(function(){})}}},s=l,o=a("2877"),u=Object(o["a"])(s,n,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21a7d4.6ad19dce.js.map